import{r as s,A as g,_ as j,j as e,d as c,u as w,a as y,C as b,L,O as H,S}from"./index-92b21087.js";var I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"};const N=I;var M=function(a,o){return s.createElement(g,j({},a,{ref:o,icon:N}))},O=s.forwardRef(M);const R=O;var V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"};const $=V;var B=function(a,o){return s.createElement(g,j({},a,{ref:o,icon:$}))},Z=s.forwardRef(B);const W=Z,_=()=>e.jsx("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5Zm16 14a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2ZM4 13a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6Zm16-2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v6Z"})});function f(t){return e.jsx(c,{component:_,...t})}const z=()=>e.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6953 11.1953C11.9556 10.9349 12.3777 10.9349 12.6381 11.1953L15.6381 14.1953C15.8984 14.4556 15.8984 14.8777 15.6381 15.1381C15.3777 15.3984 14.9556 15.3984 14.6953 15.1381L11.6953 12.1381C11.4349 11.8777 11.4349 11.4556 11.6953 11.1953Z",fill:"currentColor"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.16666 7.33268C1.16666 3.65078 4.15143 0.666016 7.83333 0.666016C11.5152 0.666016 14.5 3.65078 14.5 7.33268C14.5 11.0146 11.5152 13.9993 7.83333 13.9993C4.15143 13.9993 1.16666 11.0146 1.16666 7.33268ZM7.83333 1.99935C4.88781 1.99935 2.5 4.38716 2.5 7.33268C2.5 10.2782 4.88781 12.666 7.83333 12.666C10.7788 12.666 13.1667 10.2782 13.1667 7.33268C13.1667 4.38716 10.7788 1.99935 7.83333 1.99935Z",fill:"currentColor"})]});function A(t){return e.jsx(c,{component:z,...t})}const E=()=>e.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1.5"}),e.jsx("path",{d:"M7.5 17C9.8317 14.5578 14.1432 14.4428 16.5 17M14.4951 9.5C14.4951 10.8807 13.3742 12 11.9915 12C10.6089 12 9.48797 10.8807 9.48797 9.5C9.48797 8.11929 10.6089 7 11.9915 7C13.3742 7 14.4951 8.11929 14.4951 9.5Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]});function U(t){return e.jsx(c,{component:E,...t})}const F=()=>e.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M20.5 15.8278C17.9985 21.756 9.86407 23.4835 5.20143 18.8641C0.629484 14.3347 2.04493 6.12883 8.05653 3.5",stroke:"currentColor",strokeWidth:"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M17.6831 12.5C19.5708 12.5 20.5146 12.5 21.1241 11.655C21.1469 11.6234 21.1848 11.5667 21.2052 11.5336C21.7527 10.6471 21.4705 9.966 20.9063 8.60378C20.3946 7.36853 19.6447 6.24615 18.6993 5.30073C17.7538 4.35531 16.6315 3.60536 15.3962 3.0937C14.034 2.52946 13.3529 2.24733 12.4664 2.79477C12.4333 2.81523 12.3766 2.85309 12.345 2.87587C11.5 3.4854 11.5 4.42922 11.5 6.31686V8.42748C11.5 10.3473 11.5 11.3072 12.0964 11.9036C12.6928 12.5 13.6527 12.5 15.5725 12.5H17.6831Z",stroke:"currentColor",strokeWidth:"1.5"})]});function J(t){return e.jsx(c,{component:F,...t})}const T=()=>e.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M2.83337 7.16683C2.83337 4.65267 2.83337 3.39559 3.66324 2.61454C4.4931 1.8335 5.82875 1.8335 8.50004 1.8335H9.01519C11.1893 1.8335 12.2764 1.8335 13.0313 2.36539C13.2476 2.51778 13.4397 2.69851 13.6016 2.90209C14.1667 3.61261 14.1667 4.63573 14.1667 6.68198V8.37895C14.1667 10.3544 14.1667 11.3421 13.8541 12.131C13.3515 13.3992 12.2886 14.3996 10.9411 14.8726C10.103 15.1668 9.0535 15.1668 6.95459 15.1668C5.75521 15.1668 5.15552 15.1668 4.67656 14.9987C3.90657 14.7284 3.29921 14.1568 3.01202 13.4321C2.83337 12.9813 2.83337 12.4169 2.83337 11.288V7.16683Z",stroke:"currentColor",strokeWidth:"1.25",strokeLinejoin:"round"}),e.jsx("path",{d:"M14.1667 8.5C14.1667 9.7273 13.1717 10.7222 11.9444 10.7222C11.5006 10.7222 10.9773 10.6444 10.5458 10.7601C10.1623 10.8628 9.86282 11.1623 9.76008 11.5458C9.64445 11.9773 9.72222 12.5006 9.72222 12.9444C9.72222 14.1717 8.7273 15.1667 7.5 15.1667",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5.83337 5.16699H10.5",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5.83337 7.8335H7.83337",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]});function K(t){return e.jsx(c,{component:T,...t})}const q=()=>{const{pathname:t}=w(),a=y(r=>r.cart),[o,u]=s.useState(null),[p,h]=s.useState(null);s.useEffect(()=>{const r=localStorage.getItem("access_token");if(r)try{const n=r.split(".")[1],m=atob(n.replace(/-/g,"+").replace(/_/g,"/")),i=JSON.parse(m);u(i.id),h(i==null?void 0:i.is_superuser)}catch(n){console.error("Token decode qilishda xatolik:",n)}},[]);const x=[{key:"home",label:e.jsx(W,{className:"text-[24px]","aria-hidden":"true"}),path:"/",name:"Asosiy",ariaLabel:"Asosiy sahifa"},{key:"categories",label:e.jsx(f,{className:"text-[24px]","aria-hidden":"true"}),path:"/categories",name:"Katalog",ariaLabel:"Katalog"},{key:"search",label:e.jsx(A,{className:"text-[24px]","aria-hidden":"true"}),path:"/search",name:"Qidiruv",ariaLabel:"Qidiruv"},{key:"history",label:e.jsx(R,{className:"text-[24px]","aria-hidden":"true"}),path:"/history",name:"Tarix",ariaLabel:"Tarix"},{key:"cart",label:e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"text-[24px]","aria-hidden":"true"}),(a==null?void 0:a.length)>0&&e.jsx("span",{className:"absolute -top-1 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full min-w-[20px] text-center leading-none","aria-label":`${a==null?void 0:a.length} ta mahsulot savatda`,children:a==null?void 0:a.length})]}),path:"/cart",name:"Savatcha",ariaLabel:"Savatcha"}],d=[{key:"statistics",label:e.jsx(J,{className:"text-[24px]","aria-hidden":"true"}),path:"/admin",name:"Statistika",ariaLabel:"Statistika"},{key:"orders",label:e.jsx(K,{className:"text-[24px]","aria-hidden":"true"}),path:"/orders",name:"Buyurtma",ariaLabel:"Buyurtmalar"},{key:"users",label:e.jsx(U,{className:"text-[24px]","aria-hidden":"true"}),path:"/users",name:"Foydalanuvchi",ariaLabel:"Foydalanuvchilar"},{key:"categories",label:e.jsx(f,{className:"text-[24px]","aria-hidden":"true"}),path:"/resourses",name:"Mahsulotlar",ariaLabel:"Kategoriyalar"}];if(o===null)return null;const l=p?d:x;return e.jsx("nav",{className:"flex container items-center justify-between w-full","aria-label":"Sayt navigatsiyasi",children:e.jsx("ul",{className:"flex items-center gap-4 justify-between w-full",children:l.map(({key:r,path:n,label:m,name:i,ariaLabel:v})=>{const k=t===n;return e.jsx("li",{children:e.jsxs(L,{to:n,"aria-label":v,className:`w-[32px] h-[32px] flex flex-col items-center px-1 pt-4 pb-3 rounded-lg select-none font-medium hover:text-inherit ${k?"text-[#fdbb31]":"dark:text-white"}`,children:[m,e.jsx("span",{className:"text-[14px] mt-1",children:i})]})},r)})})})},Q=()=>e.jsx("header",{id:"header",className:"fixed bottom-0 left-0 w-full bg-white dark:bg-primary-dark z-[110] h-[70px]",children:e.jsx(q,{})}),D=Q;function P(t){const{children:a}=t;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen",children:[a,e.jsx(D,{})]})})}const C=()=>e.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:e.jsx(S,{})});function X(t){const{getRoutes:a}=t,[o,u]=s.useState(!0),[p,h]=s.useState(null);s.useEffect(()=>{const d=localStorage.getItem("access_token");if(d)try{const l=d.split(".")[1],r=atob(l.replace(/-/g,"+").replace(/_/g,"/")),n=JSON.parse(r);h(n.id)}catch(l){console.error("Token decode qilishda xatolik:",l)}u(!1)},[]);const x=a();return o?e.jsx(C,{}):e.jsx(P,{sidebarRoutes:x[0].children,children:e.jsx(s.Suspense,{fallback:e.jsx(C,{}),children:e.jsx(H,{})})})}export{X as default};
//# sourceMappingURL=root-1720ff7a.js.map
